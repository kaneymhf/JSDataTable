{"version":3,"file":"jsdatatables.js","sources":["../../src/js/lang.js","../../src/js/helpers.js","../../src/js/rows.js","../../src/js/columns.js","../../src/js/table.js","../../src/js/config.js","../../src/js/datatable.js"],"sourcesContent":["export const strings = {\n  en: {\n    placeholder: \"Search...\",\n    perPage: \"{select} entries per page\",\n    noRows: \"No entries found\",\n    noResults: \"No results match your search query\",\n    info: \"Showing {start} to {end} of {rows} entries\",\n  },\n  pt: {\n    placeholder: \"Buscar...\",\n    perPage: \"{select} registros por página\",\n    noRows: \"Nenhum registro encontrado\",\n    noResults: \"Nenhum resultado foi encontrado para a busca\",\n    info: \"Exibindo {start} até {end} de {rows} registros\",\n  },\n  es: {\n    placeholder: \"Búsqueda...\",\n    perPage: \"{select} entradas por página\",\n    noRows: \"Entradas no encontradas\",\n    noResults: \"Ningún resultado coincide con su consulta de búsqueda\",\n    info: \"Mostrando {start} a {end} de {rows} entradas\",\n  },\n  de: {\n    placeholder: \"Suchen...\",\n    perPage: \"{select} Einträge pro seite\",\n    noRows: \"Keine Einträge gefunden\",\n    noResults: \"Keine Ergebnisse stimmen mit Ihrer Suchanfrage überein\",\n    info: \"Es werden {start} bis {end} von {rows} Einträgen angezeigt\",\n  },\n  it: {\n    placeholder: \"Ricerca...\",\n    perPage: \"{select} voci per pagina\",\n    noRows: \"Nessuna voce trovata\",\n    noResults: \"Nessun risultato corrisponde alla tua query di ricerca\",\n    info: \"Visualizzazione da {start} a {end} di {rows} voci\", \n  },\n  ru: {\n    placeholder: \"Поиск...\",\n    perPage: \"{select} записей на страницу\",\n    noRows: \"Записей не найдено\",\n    noResults: \"По вашему запросу ничего не найдено\",\n    info: \"Показаны записи с {start} по {end} из {rows} \", \n  }\n};\n","import { strings } from \"./lang\"\n\n/**\n * Check is item is object\n * @return {Boolean}\n */\nexport const isObject = val => Object.prototype.toString.call(val) === \"[object Object]\"\n\n/**\n * Check for valid JSON string\n * @param  {String}   str\n * @return {Boolean|Array|Object}\n */\nexport const isJson = str => {\n    let t = !1\n    try {\n        t = JSON.parse(str)\n    } catch (e) {\n        return !1\n    }\n    return !(null === t || (!Array.isArray(t) && !isObject(t))) && t\n}\n\n/**\n * Create DOM element node\n * @param  {String}   nodeName nodeName\n * @param  {Object}   attrs properties and attributes\n * @return {Object}\n */\nexport const createElement = (nodeName, attrs) => {\n    const dom = document.createElement(nodeName)\n    if (attrs && \"object\" == typeof attrs) {\n        for (const attr in attrs) {\n            if (\"html\" === attr) {\n                dom.innerHTML = attrs[attr]\n            } else {\n                dom.setAttribute(attr, attrs[attr])\n            }\n        }\n    }\n    return dom\n}\n\nexport const flush = el => {\n    if (el instanceof NodeList) {\n        el.forEach(e => flush(e))\n    } else {\n        el.innerHTML = \"\"\n    }\n}\n\n/**\n * Create button helper\n * @param  {String}   class\n * @param  {Number}   page\n * @param  {String}   text\n * @return {Object}\n */\nexport const button = (className, page, text) => createElement(\n    \"li\", {\n        class: className,\n        html: `<a href=\"#\" data-page=\"${page}\">${text}</a>`\n    }\n)\n\nconst bubbleSort = inputArr => {\n  const lang = document.documentElement.lang || \"en\";\n  const len = inputArr.length;\n  for (let i = 0; i < len; i++) {\n    for (let j = 0; j < len; j++) {\n      if (j + 1 < len) {\n        if (\n          inputArr[j].value\n            .toString()\n            .localeCompare(inputArr[j + 1].value.toString(), lang, {\n              numeric: true\n            }) > 0\n        ) {\n          const tmp = inputArr[j];\n          inputArr[j] = inputArr[j + 1];\n          inputArr[j + 1] = tmp;\n        }\n      }\n    }\n  }\n  return inputArr;\n};\n\nexport const sortItems = (a, b) => {\n    a = bubbleSort(a);\n    if (b == -1) {\n        a = a.reverse();\n    }\n  return a;\n}\n\n/**\n * Pager truncation algorithm\n */\nexport const truncate = (a, b, c, d, ellipsis) => {\n    d = d || 2\n    let j\n    const e = 2 * d\n    let f = b - d\n    let g = b + d\n    const h = []\n    const i = []\n    if (b < 4 - d + e) {\n        g = 3 + e\n    } else if (b > c - (3 - d + e)) {\n        f = c - (2 + e)\n    }\n    for (let k = 1; k <= c; k++) {\n        if (1 == k || k == c || (k >= f && k <= g)) {\n            const l = a[k - 1]\n            l.classList.remove(\"active\")\n            h.push(l)\n        }\n    }\n    h.forEach(c => {\n        const d = c.children[0].getAttribute(\"data-page\")\n        if (j) {\n            const e = j.children[0].getAttribute(\"data-page\")\n            if (d - e == 2) i.push(a[e])\n            else if (d - e != 1) {\n                const f = createElement(\"li\", {\n                    class: \"ellipsis\",\n                    html: `<a href=\"#\">${ellipsis}</a>`\n                })\n                i.push(f)\n            }\n        }\n        i.push(c)\n        j = c\n    })\n\n    return i\n}\n\nexport const getStrings = (lang = false) => {\n  if (!lang) {\n    lang = document.documentElement.lang || \"en\";\n  }\n    \n  lang = lang.substring(0, 2).toLowerCase();\n\n  if (!(lang in strings)) {\n    lang = \"en\";\n  }\n\n  return strings[lang];\n}","import { createElement } from \"./helpers\"\n/**\n * Rows API\n * @param {Object} instance DataTable instance\n * @param {Array} rows\n */\nexport class Rows {\n  constructor(dt, rows) {\n    this.dt = dt;\n    this.rows = rows;\n\n    return this;\n  }\n\n  /**\n   * Build a new row\n   * @param  {Array} row\n   * @return {HTMLElement}\n   */\n  build(row) {\n    const tr = createElement(\"tr\");\n\n    let headings = this.dt.headings;\n\n    if (!headings.length) {\n      headings = row.map(() => \"\");\n    }\n\n    headings.forEach((h, i) => {\n      const td = createElement(\"td\");\n\n      // Fixes #29\n      if (!row[i] || !row[i].length) {\n        row[i] = \"\";\n      }\n\n      td.innerHTML = row[i];\n\n      td.data = row[i];\n\n      tr.appendChild(td);\n    });\n\n    return tr;\n  }\n\n  render(row) {\n    return row;\n  }\n\n  /**\n   * Add new row\n   * @param {Array} select\n   */\n  add(data) {\n    if (Array.isArray(data)) {\n      const dt = this.dt;\n      // Check for multiple rows\n      if (Array.isArray(data[0])) {\n        data.forEach(row => {\n          dt.data.push(this.build(row));\n        });\n      } else {\n        dt.data.push(this.build(data));\n      }\n\n      // We may have added data to an empty table\n      if (dt.data.length) {\n        dt.hasRows = true;\n      }\n\n      this.update();\n\n      dt.columns().rebuild();\n    }\n  }\n\n  /**\n   * Remove row(s)\n   * @param  {Array|Number} select\n   * @return {Void}\n   */\n  remove(select) {\n    const dt = this.dt;\n\n    if (Array.isArray(select)) {\n      // Remove in reverse otherwise the indexes will be incorrect\n      select.sort((a, b) => b - a);\n\n      select.forEach(row => {\n        dt.data.splice(row, 1);\n      });\n    } else if (select == \"all\") {\n      dt.data = [];\n    } else {\n      dt.data.splice(select, 1);\n    }\n\n    // We may have emptied the table\n    if (!dt.data.length) {\n      dt.hasRows = false;\n    }\n\n    this.update();\n    dt.columns().rebuild();\n  }\n\n  /**\n   * Update row indexes\n   * @return {Void}\n   */\n  update() {\n    this.dt.data.forEach((row, i) => {\n      row.dataIndex = i;\n    });\n  }\n\n  /**\n   * Find index of row by searching for a value in a column\n   * @param  {Number} columnIndex\n   * @param  {String} value\n   * @return {Number}\n   */\n  findRowIndex(columnIndex, value) {\n    // returns row index of first case-insensitive string match\n    // inside the td innerText at specific column index\n    return this.dt.data.findIndex(tr => tr.children[columnIndex].innerText\n        .toLowerCase()\n        .includes(String(value).toLowerCase())\n    );\n  }\n\n  /**\n   * Find index, row, and column data by searching for a value in a column\n   * @param  {Number} columnIndex\n   * @param  {String} value\n   * @return {Object}\n   */\n  findRow(columnIndex, value) {\n    // get the row index\n    const index = this.findRowIndex(columnIndex, value);\n    // exit if not found\n    if (index < 0) {\n      return {\n        index: -1,\n        row: null,\n        cols: []\n      };\n    }\n    // get the row from data\n    const row = this.dt.data[index];\n    // return innerHTML of each td\n    const cols = [...row.cells].map(r => r.innerHTML);\n    // return everything\n    return {\n      index,\n      row,\n      cols\n    };\n  }\n\n  /**\n   * Update a row with new data\n   * @param  {Number} select\n   * @param  {Array} data\n   * @return {Void}\n   */\n  updateRow(select, data) {\n    const row = this.build(data);\n    this.dt.data.splice(select, 1, row);\n    this.update();\n    this.dt.columns().rebuild();\n  }\n}\n","import { sortItems } from \"./helpers\";\n\n/**\n * Columns API\n * @param {Object} instance DataTable instance\n * @param {Mixed} columns  Column index or array of column indexes\n */\nexport class Columns {\n  constructor(dt) {\n    this.dt = dt;\n    return this;\n  }\n\n  /**\n   * Swap two columns\n   * @return {Void}\n   */\n  swap(columns) {\n    if (columns.length && columns.length === 2) {\n      const cols = [];\n\n      // Get the current column indexes\n      this.dt.headings.forEach((h, i) => {\n        cols.push(i);\n      });\n\n      const x = columns[0];\n      const y = columns[1];\n      const b = cols[y];\n      cols[y] = cols[x];\n      cols[x] = b;\n\n      this.order(cols);\n    }\n  }\n\n  /**\n   * Reorder the columns\n   * @return {Array} columns  Array of ordered column indexes\n   */\n  order(columns) {\n    let a;\n    let b;\n    let c;\n    let d;\n    let h;\n    let s;\n    let cell;\n\n    const temp = [[], [], [], []];\n\n    const dt = this.dt;\n\n    // Order the headings\n    columns.forEach((column, x) => {\n      h = dt.headings[column];\n      s = h.getAttribute(\"data-sortable\") !== \"false\";\n      a = h.cloneNode(true);\n      a.originalCellIndex = x;\n      a.sortable = s;\n\n      temp[0].push(a);\n\n      if (!dt.hiddenColumns.includes(column)) {\n        b = h.cloneNode(true);\n        b.originalCellIndex = x;\n        b.sortable = s;\n\n        temp[1].push(b);\n      }\n    });\n\n    // Order the row cells\n    dt.data.forEach((row, i) => {\n      c = row.cloneNode(false);\n      d = row.cloneNode(false);\n\n      c.dataIndex = d.dataIndex = i;\n\n      if (row.searchIndex !== null && row.searchIndex !== undefined) {\n        c.searchIndex = d.searchIndex = row.searchIndex;\n      }\n\n      // Append the cell to the fragment in the correct order\n      columns.forEach( column => {\n        cell = row.cells[column].cloneNode(true);\n        cell.data = row.cells[column].data;\n        c.appendChild(cell);\n\n        if (!dt.hiddenColumns.includes(column)) {\n          cell = row.cells[column].cloneNode(true);\n          cell.data = row.cells[column].data;\n          d.appendChild(cell);\n        }\n      });\n\n      temp[2].push(c);\n      temp[3].push(d);\n    });\n\n    dt.headings = temp[0];\n    dt.activeHeadings = temp[1];\n\n    dt.data = temp[2];\n    dt.activeRows = temp[3];\n\n    // Update\n    dt.update();\n  }\n\n  /**\n   * Hide columns\n   * @return {Void}\n   */\n  hide(columns) {\n    if (columns.length) {\n      const dt = this.dt;\n\n      columns.forEach( column => {\n        if (!dt.hiddenColumns.includes(column)) {\n          dt.hiddenColumns.push(column);\n        }\n      });\n\n      this.rebuild();\n    }\n  }\n\n  /**\n   * Show columns\n   * @return {Void}\n   */\n  show(columns) {\n    if (columns.length) {\n      let index;\n      const dt = this.dt;\n\n      columns.forEach(column => {\n        index = dt.hiddenColumns.indexOf(column);\n        if (index > -1) {\n          dt.hiddenColumns.splice(index, 1);\n        }\n      });\n\n      this.rebuild();\n    }\n  }\n\n  /**\n   * Check column(s) visibility\n   * @return {Boolean}\n   */\n  visible(columns) {\n    let cols;\n    const dt = this.dt;\n\n    columns = columns || dt.headings.map( th => th.originalCellIndex);\n\n    if (!isNaN(columns)) {\n      cols = !dt.hiddenColumns.includes(columns);\n    } else if (Array.isArray(columns)) {\n      cols = [];\n      columns.forEach(column => {\n        cols.push(!dt.hiddenColumns.includes(column));\n      });\n    }\n\n    return cols;\n  }\n\n  /**\n   * Add a new column\n   * @param {Object} data\n   */\n  add(data) {\n    let td;\n    const th = document.createElement(\"th\");\n\n    if (!this.dt.headings.length) {\n      this.dt.insert({\n        headings: [data.heading],\n        data: data.data.map( i => [i])\n      });\n      this.rebuild();\n      return;\n    }\n\n    if (!this.dt.hiddenHeader) {\n      if (data.heading.nodeName) {\n        th.appendChild(data.heading);\n      } else {\n        th.innerHTML = data.heading;\n      }\n    } else {\n      th.innerHTML = \"\";\n    }\n\n    this.dt.headings.push(th);\n\n    this.dt.data.forEach((row, i) => {\n      if (data.data[i]) {\n        td = document.createElement(\"td\");\n\n        if (data.data[i].nodeName) {\n          td.appendChild(data.data[i]);\n        } else {\n          td.innerHTML = data.data[i];\n        }\n\n        td.data = td.innerHTML;\n\n        if (data.render) {\n          td.innerHTML = data.render.call(this, td.data, td, row);\n        }\n\n        row.appendChild(td);\n      }\n    });\n\n    if (data.type) {\n      th.setAttribute(\"data-type\", data.type);\n    }\n    if (data.format) {\n      th.setAttribute(\"data-format\", data.format);\n    }\n\n    if (data.hasOwnProperty(\"sortable\")) {\n      th.sortable = data.sortable;\n      th.setAttribute(\n        \"data-sortable\",\n        data.sortable === true ? \"true\" : \"false\"\n      );\n    }\n\n    this.rebuild();\n\n    this.dt.renderHeader();\n  }\n\n  /**\n   * Remove column(s)\n   * @param  {Array|Number} select\n   * @return {Void}\n   */\n  remove(select) {\n    if (Array.isArray(select)) {\n      // Remove in reverse otherwise the indexes will be incorrect\n      select.sort((a, b) => b - a);\n      select.forEach(column => this.remove(column));\n    } else {\n      this.dt.headings.splice(select, 1);\n\n      this.dt.data.forEach( row => {\n        row.removeChild(row.cells[select]);\n      });\n    }\n\n    this.rebuild();\n  }\n\n  /**\n   * Filter by column\n   * @param  {int} column - The column no.\n   * @param  {string} dir - asc or desc\n   * @filter {array} filter - optional parameter with a list of strings\n   * @return {void}\n   */\n  filter(column, dir, init, terms) {\n    const dt = this.dt;\n\n    // Creates a internal state that manages filters if there are none\n    if (!dt.filterState) {\n      dt.filterState = {\n        originalData: dt.data\n      };\n    }\n\n    // If that column is was not filtered yet, we need to create its state\n    if (!dt.filterState[column]) {\n      // append a filter that selects all rows, 'resetting' the filter\n      const filters = [...terms, () => true];\n\n      dt.filterState[column] = (function () {\n        let i = 0;\n        return () => filters[i++ % filters.length];\n      }());\n    }\n\n    // Apply the filter and rebuild table\n    const rowFilter = dt.filterState[column](); // fetches next filter\n    const filteredRows = Array.from(dt.filterState.originalData).filter(\n      tr => {\n        const cell = tr.cells[column];\n        const content = cell.hasAttribute(\"data-content\") ?\n          cell.getAttribute(\"data-content\") :\n          cell.innerText;\n\n        // If the filter is a function, call it, if it is a string, compare it\n        return typeof rowFilter === \"function\" ?\n          rowFilter(content) :\n          content === rowFilter;\n      }\n    );\n\n    dt.data = filteredRows;\n\n    if (!dt.data.length) {\n      dt.clear();\n      dt.hasRows = false;\n      dt.setMessage(dt.options.labels.noRows);\n    } else {\n      this.rebuild();\n      dt.update();\n    }\n\n    if (!init) {\n      dt.emit(\"datatable.sort\", column, dir);\n    }\n  }\n\n  /**\n   * Sort by column\n   * @param  {int} column - The column no.\n   * @param  {string} dir - asc or desc\n   * @return {void}\n   */\n  sort(column, dir, init) {\n    const dt = this.dt;\n\n    // Check column is present\n    if (dt.hasHeadings && (column < 0 || column > dt.headings.length)) {\n      return false;\n    }\n\n    //If there is a filter for this column, apply it instead of sorting\n    const filterTerms =\n      dt.options.filters && dt.options.filters[dt.headings[column].textContent];\n    if (filterTerms && filterTerms.length !== 0) {\n      this.filter(column, dir, init, filterTerms);\n      return;\n    }\n\n    dt.sorting = true;\n\n    if (!init) {\n      dt.emit(\"datatable.sorting\", column, dir);\n    }\n\n    let rows = dt.data;\n    const alpha = [];\n    const numeric = [];\n    let a = 0;\n    let n = 0;\n    const th = dt.headings[column];\n\n    const waitFor = [];\n\n    // Check for date format\n    if (th.getAttribute(\"data-type\") === \"date\") {\n      let format = false;\n      const formatted = th.hasAttribute(\"data-format\");\n\n      if (formatted) {\n        format = th.getAttribute(\"data-format\");\n      }\n      waitFor.push(\n        import(\"./date\").then(\n          ({ parseDate }) => date => parseDate(date, format)\n        )\n      );\n    }\n\n    Promise.all(waitFor).then(importedFunctions => {\n      const parseFunction = importedFunctions[0]; // only defined if date\n      Array.from(rows).forEach(tr => {\n        const cell = tr.cells[column];\n        const content = cell.hasAttribute(\"data-content\") ?\n          cell.getAttribute(\"data-content\") :\n          cell.innerText;\n        let num;\n        if (parseFunction) {\n          num = parseFunction(content);\n        } else if (typeof content === \"string\") {\n          num = content.replace(/(\\$|,|\\s|%)/g, \"\");\n        } else {\n          num = content;\n        }\n\n        if (parseFloat(num) == num) {\n          numeric[n++] = {\n            value: Number(num),\n            row: tr\n          };\n        } else {\n          alpha[a++] = {\n            value:\n              typeof content === \"string\" ? content.toLowerCase() : content,\n            row: tr\n          };\n        }\n      });\n\n      /* Sort according to direction (ascending or descending) */\n      if (!dir) {\n        if (th.classList.contains(\"asc\")) {\n          dir = \"desc\";\n        } else {\n          dir = \"asc\";\n        }\n      }\n      let top;\n      let btm;\n      if (dir == \"desc\") {\n        top = sortItems(alpha, -1);\n        btm = sortItems(numeric, -1);\n        th.classList.remove(\"asc\");\n        th.classList.add(\"desc\");\n      } else {\n        top = sortItems(numeric, 1);\n        btm = sortItems(alpha, 1);\n        th.classList.remove(\"desc\");\n        th.classList.add(\"asc\");\n      }\n\n      /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */\n      if (dt.lastTh && th != dt.lastTh) {\n        dt.lastTh.classList.remove(\"desc\");\n        dt.lastTh.classList.remove(\"asc\");\n      }\n\n      dt.lastTh = th;\n\n      /* Reorder the table */\n      rows = top.concat(btm);\n\n      dt.data = [];\n      const indexes = [];\n\n      rows.forEach((v, i) => {\n        dt.data.push(v.row);\n\n        if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {\n          indexes.push(i);\n        }\n      });\n\n      dt.searchData = indexes;\n\n      this.rebuild();\n\n      dt.update();\n\n      if (!init) {\n        dt.emit(\"datatable.sort\", column, dir);\n      }\n    });\n  }\n\n  /**\n   * Rebuild the columns\n   * @return {Void}\n   */\n  rebuild() {\n    let a;\n    let b;\n    let c;\n    let d;\n    const dt = this.dt;\n    const temp = [];\n\n    dt.activeRows = [];\n    dt.activeHeadings = [];\n\n    dt.headings.forEach((th, i) => {\n      th.originalCellIndex = i;\n      th.sortable = th.getAttribute(\"data-sortable\") !== \"false\";\n      if (!dt.hiddenColumns.includes(i)) {\n        dt.activeHeadings.push(th);\n      }\n    });\n\n    // Loop over the rows and reorder the cells\n    dt.data.forEach((row, i) => {\n      a = row.cloneNode(false);\n      b = row.cloneNode(false);\n\n      a.dataIndex = b.dataIndex = i;\n\n      if (row.searchIndex !== null && row.searchIndex !== undefined) {\n        a.searchIndex = b.searchIndex = row.searchIndex;\n      }\n\n      // Append the cell to the fragment in the correct order\n      Array.from(row.cells).forEach(cell => {\n        c = cell.cloneNode(true);\n        c.data = cell.data;\n        a.appendChild(c);\n\n        if (!dt.hiddenColumns.includes(c.cellIndex)) {\n          d = c.cloneNode(true);\n          d.data = c.data;\n          b.appendChild(d);\n        }\n      });\n\n      // Append the fragment with the ordered cells\n      temp.push(a);\n      dt.activeRows.push(b);\n    });\n\n    dt.data = temp;\n\n    dt.update();\n  }\n}\n","import { createElement } from \"./helpers\"\n\n/**\n * Parse data to HTML table\n */\nexport const dataToTable = function (data) {\n    let thead = false\n    let tbody = false\n\n    data = data || this.options.data\n\n    this.dom.classList.add(...this.options.classes.table);\n\n    if (data.headings) {\n      thead = createElement(\"thead\");\n      const tr = createElement(\"tr\");\n      data.headings.forEach((col, idx) => {\n        const td = createElement(\"th\", {\n          html: col,\n        });\n        if (this.options.selectable && idx == 0) {\n          td.classList.add(\"jsDataTable-select-cell\");\n        }\n        tr.appendChild(td);\n      });\n\n      thead.appendChild(tr);\n    }\n\n    if (data.data && data.data.length) {\n      tbody = createElement(\"tbody\");\n      data.data.forEach((rows) => {\n        if (data.headings) {\n          if (data.headings.length !== rows.length) {\n            throw new Error(\n              \"The number of rows do not match the number of headings\"\n            );\n          }\n        }\n        const tr = createElement(\"tr\");\n        rows.forEach((value) => {\n          const td = createElement(\"td\", {\n            html: value,\n          });\n          tr.appendChild(td);\n        });\n        tbody.appendChild(tr);\n      });\n    }\n\n    if (thead) {\n        if (this.dom.tHead !== null) {\n            this.dom.removeChild(this.dom.tHead)\n        }\n        this.dom.appendChild(thead)\n    }\n\n    if (tbody) {\n        if (this.dom.tBodies.length) {\n            this.dom.removeChild(this.dom.tBodies[0])\n        }\n        this.dom.appendChild(tbody)\n    }\n}\n","/**\n * Default configuration\n * @typ {Object}\n */\n\nimport { getStrings } from \"./helpers\";\n\nconst labels = getStrings();\n\nexport const defaultConfig = {\n  sortable: true,\n  searchable: true,\n\n  // Pagination\n  paging: true,\n  perPage: 10,\n  perPageSelect: [5, 10, 15, 20, 25],\n  nextPrev: true,\n  firstLast: false,\n  prevText: \"&lsaquo;\",\n  nextText: \"&rsaquo;\",\n  firstText: \"&laquo;\",\n  lastText: \"&raquo;\",\n  ellipsisText: \"&hellip;\",\n  ascText: \"▴\",\n  descText: \"▾\",\n  truncatePager: true,\n  pagerDelta: 2,\n\n  scrollY: \"\",\n\n  fixedColumns: true,\n  fixedHeight: false,\n\n  header: true,\n  hiddenHeader: false,\n  footer: false,\n\n  lang: false,\n\n  // Customise the layout\n  layout: {\n    top: \"{select}{search}\",\n    bottom: \"{info}{pager}\",\n  },\n\n  labels,\n\n  classes: {\n    table: [\"jsDataTable-table\"],\n    header: [],\n    input: [],\n    selector: [],\n    checkbox: [],\n  },\n};\n","import { Rows } from \"./rows\";\nimport { Columns } from \"./columns\";\nimport { dataToTable } from \"./table\";\nimport { defaultConfig } from \"./config\";\nimport {\n  isObject,\n  isJson,\n  createElement,\n  flush,\n  button,\n  truncate,\n  getStrings,\n} from \"./helpers\";\n\nexport class JSDataTable {\n  constructor(table, options = {}) {\n    const dom =\n      typeof table === \"string\" ? document.querySelector(table) : table;\n\n    let labels;\n    if (options.lang) {\n      labels = getStrings(options.lang);\n    } else {\n      labels = defaultConfig.labels;\n    }\n\n    // user options\n    this.options = {\n      ...defaultConfig,\n      ...options,\n      layout: {\n        ...defaultConfig.layout,\n        ...options.layout,\n      },\n      labels: {\n        ...labels,\n        ...options.labels,\n      },\n      classes: {\n        ...defaultConfig.classes,\n      },\n    };\n\n    if (options.classes) {\n      for (const [key, value] of Object.entries(this.options.classes)) {\n        this.options.classes[key] = value.concat(options.classes[key]);\n      }\n    }\n\n    this.initialized = false;\n\n    this.initialLayout = dom.innerHTML;\n    this.initialSortable = this.options.sortable;\n\n    // Disable manual sorting if no header is present (#4)\n    if (!this.options.header) {\n      this.options.sortable = false;\n    }\n\n    if (dom.tHead === null) {\n      if (\n        !this.options.data ||\n        (this.options.data && !this.options.data.headings)\n      ) {\n        this.options.sortable = false;\n      }\n    }\n\n    if (dom.tBodies.length && !dom.tBodies[0].rows.length) {\n      if (this.options.data) {\n        if (!this.options.data.data) {\n          throw new Error(\n            \"You seem to be using the data option, but you've not defined any rows.\"\n          );\n        }\n      }\n    }\n\n    this.dom = dom;\n\n    this.table = this.dom; // For compatibility. Remove in version 4\n\n    this.listeners = {\n      onResize: (event) => this.onResize(event),\n    };\n\n    this.init();\n  }\n\n  /**\n   * Add custom property or method to extend JSDataTable\n   * @param  {String} prop    - Method name or property\n   * @param  {Mixed} val      - Function or property value\n   * @return {Void}\n   */\n  static extend(prop, val) {\n    if (typeof val === \"function\") {\n      JSDataTable.prototype[prop] = val;\n    } else {\n      JSDataTable[prop] = val;\n    }\n  }\n\n  getSelected() {\n    let checked = 0;\n    const checkboxes = document.getElementsByName(\"jsDataTable_select\");\n    for (let i = 0; i < checkboxes.length; i++) {\n      if (checkboxes[i].checked) {\n        checked++;\n      }\n    }\n\n    return checked;\n  }\n\n  getSelectedRows() {\n    const checked = [];\n    const checkboxes = document.getElementsByName(\"jsDataTable_select\");\n    for (let i = 0; i < checkboxes.length; i++) {\n      if (checkboxes[i].checked) {\n        checked.push(checkboxes[i].closest(\"tr\").dataIndex);\n      }\n    }\n\n    return checked;\n  }\n\n  /**\n   * Initialize the instance\n   * @param  {Object} options\n   * @return {Void}\n   */\n  init(options) {\n    if (this.initialized || this.dom.classList.contains(\"jsDataTable-table\")) {\n      return false;\n    }\n\n    if (options) {\n      let labels;\n      if (options.lang) {\n        labels = getStrings(options.lang);\n      } else {\n        labels = getStrings();\n      }\n\n      // user options\n      options = {\n        ...this.options,\n        ...options,\n        layout: {\n          ...this.options.layout,\n          ...options.layout,\n        },\n        labels: {\n          ...labels,\n          ...options.labels,\n        },\n        classes: {\n          ...defaultConfig.classes,\n        },\n      };\n\n      if (options.classes) {\n        for (const [key, value] of Object.entries(options.classes)) {\n          options.classes[key] = value.concat(this.options.classes[key]);\n        }\n      }\n    }\n\n    Object.assign(this.options, options || {});\n\n    this.currentPage = 1;\n    this.onFirstPage = true;\n\n    this.hiddenColumns = [];\n    this.columnRenderers = [];\n    this.selectedColumns = [];\n\n    this.render();\n\n    setTimeout(() => {\n      this.emit(\"datatable.init\");\n      this.initialized = true;\n\n      if (this.options.plugins) {\n        Object.entries(this.options.plugins).forEach(([plugin, options]) => {\n          if (this[plugin] && typeof this[plugin] === \"function\") {\n            this[plugin] = this[plugin](options, { createElement });\n\n            // Init plugin\n            if (\n              options.enabled &&\n              this[plugin].init &&\n              typeof this[plugin].init === \"function\"\n            ) {\n              this[plugin].init();\n            }\n          }\n        });\n      }\n    }, 10);\n  }\n\n  /**\n   * Render the instance\n   * @param  {String} type\n   * @return {Void}\n   */\n  render(type) {\n    if (type) {\n      switch (type) {\n        case \"page\":\n          this.renderPage();\n          break;\n        case \"pager\":\n          this.renderPager();\n          break;\n        case \"header\":\n          this.renderHeader();\n          break;\n      }\n\n      return false;\n    }\n\n    this.renderData();\n  }\n\n  /**\n   * Render the instance\n   * @param  {String} type\n   * @return {Void}\n   */\n  renderData() {\n    const options = this.options;\n    let template = \"\";\n\n    // Convert data to HTML\n    if (options.data) {\n      if (options.selectable) {\n        if (options.data.headings && options.data.headings.length > 0) {\n          options.data.headings = this.makeSelectAll(options.data.headings);\n        }\n\n        if (options.data.data.length > 0) {\n          if (options.data.data && Array.isArray(options.data.data)) {\n            for (let i = 0; i < options.data.data.length; i++) {\n              options.data.data[i] = this.makeSelect(options.data.data[i]);\n            }\n          }\n        }\n      }\n      dataToTable.call(this);\n    } else {\n      if (options.selectable) {\n        // Put the checkbox on head\n        const th = document.createElement(\"th\");\n        th.classList.add(\"jsDataTable-select-cell\");\n        th.appendChild(this.makeCheckbox(true));\n        this.dom.tHead.rows\n          .item(0)\n          .insertBefore(th, this.dom.tHead.rows.item(0).firstChild);\n\n        // Put the checkbox on rows\n        const rows = this.dom.tBodies[0].querySelectorAll(\"tr\");\n        if (rows.length > 0) {\n          for (let i = 0; i < rows.length; i++) {\n            const td = document.createElement(\"td\");\n            td.appendChild(this.makeCheckbox());\n            this.dom.tBodies[0].rows.item(i).insertCell(0).appendChild(td);\n          }\n        }\n      }\n    }\n\n    // Store references\n    this.body = this.dom.tBodies[0];\n    this.head = this.dom.tHead;\n    this.foot = this.dom.tFoot;\n\n    if (!this.body) {\n      this.body = createElement(\"tbody\");\n\n      this.dom.appendChild(this.body);\n    }\n\n    this.hasRows = this.body.rows.length > 0;\n\n    // Make a tHead if there isn't one (fixes #8)\n    if (!this.head) {\n      const h = createElement(\"thead\");\n      const t = createElement(\"tr\");\n\n      if (this.hasRows) {\n        Array.from(this.body.rows[0].cells).forEach(() => {\n          t.appendChild(createElement(\"th\"));\n        });\n\n        h.appendChild(t);\n      }\n\n      this.head = h;\n\n      this.dom.insertBefore(this.head, this.body);\n\n      this.hiddenHeader = options.hiddenHeader;\n    }\n\n    this.headings = [];\n    this.hasHeadings = this.head.rows.length > 0;\n\n    if (this.hasHeadings) {\n      this.header = this.head.rows[0];\n      this.headings = [].slice.call(this.header.cells);\n    }\n\n    // Header\n    if (!options.header) {\n      if (this.head) {\n        this.dom.removeChild(this.dom.tHead);\n      }\n    }\n\n    // Footer\n    if (options.footer) {\n      if (this.head && !this.foot) {\n        this.foot = createElement(\"tfoot\", {\n          html: this.head.innerHTML,\n        });\n        this.dom.appendChild(this.foot);\n      }\n    } else {\n      if (this.foot) {\n        this.dom.removeChild(this.dom.tFoot);\n      }\n    }\n\n    // Build\n    this.wrapper = createElement(\"div\", {\n      class: \"jsDataTable-wrapper jsDataTable-loading\",\n    });\n\n    // Template for custom layouts\n    template += \"<div class='jsDataTable-top'>\";\n    template += options.layout.top;\n    template += \"</div>\";\n    if (options.scrollY.length) {\n      template += `<div class='jsDataTable-container' style='height: ${options.scrollY}; overflow-Y: auto;'></div>`;\n    } else {\n      template += \"<div class='jsDataTable-container'></div>\";\n    }\n    template += \"<div class='jsDataTable-bottom'>\";\n    template += options.layout.bottom;\n    template += \"</div>\";\n\n    // Info placement\n    template = template.replace(\n      \"{info}\",\n      options.paging ? \"<div class='jsDataTable-info'></div>\" : \"\"\n    );\n\n    // Per Page Select\n    if (options.paging && options.perPageSelect) {\n      let wrap = \"<div class='jsDataTable-dropdown'><label>\";\n      wrap += options.labels.perPage;\n      wrap += \"</label></div>\";\n\n      // Create the select\n      const select = createElement(\"select\", {\n        class: \"jsDataTable-selector\",\n      });\n\n      select.classList.add(...options.classes.selector);\n\n      // Create the options\n      options.perPageSelect.forEach((val) => {\n        const selected = val === options.perPage;\n        const option = new Option(val, val, selected, selected);\n        select.add(option);\n      });\n\n      // Custom label\n      wrap = wrap.replace(\"{select}\", select.outerHTML);\n\n      // Selector placement\n      template = template.replace(\"{select}\", wrap);\n    } else {\n      template = template.replace(\"{select}\", \"\");\n    }\n\n    // Searchable\n    if (options.searchable) {\n      const form = `<div class='jsDataTable-search'><input class='jsDataTable-input' placeholder='${options.labels.placeholder}' type='text'></div>`;\n\n      // Search input placement\n      template = template.replace(\"{search}\", form);\n    } else {\n      template = template.replace(\"{search}\", \"\");\n    }\n\n    if (this.hasHeadings) {\n      // Sortable\n      this.render(\"header\");\n    }\n\n    // Add table class\n    this.dom.classList.add(...this.options.classes.table);\n    if (options.header) {\n      this.dom.tHead.classList.add(...this.options.classes.header);\n    }\n\n    // Paginator\n    const paginatorWrapper = createElement(\"nav\", {\n      class: \"jsDataTable-pagination\",\n    });\n    const paginator = createElement(\"ul\", {\n      class: \"jsDataTable-pagination-list\",\n    });\n    paginatorWrapper.appendChild(paginator);\n\n    // Pager(s) placement\n    template = template.replace(/\\{pager\\}/g, paginatorWrapper.outerHTML);\n    this.wrapper.innerHTML = template;\n\n    this.container = this.wrapper.querySelector(\".jsDataTable-container\");\n\n    this.pagers = this.wrapper.querySelectorAll(\".jsDataTable-pagination-list\");\n\n    this.label = this.wrapper.querySelector(\".jsDataTable-info\");\n\n    // Insert in to DOM tree\n    this.dom.parentNode.replaceChild(this.wrapper, this.dom);\n    this.container.appendChild(this.dom);\n\n    // Store the table dimensions\n    this.rect = this.dom.getBoundingClientRect();\n\n    // Convert rows to array for processing\n    this.data = Array.from(this.body.rows);\n    this.activeRows = this.data.slice();\n    this.activeHeadings = this.headings.slice();\n\n    // Update\n    this.update();\n\n    this.setColumns();\n\n    // Fix height\n    this.fixHeight();\n\n    // Fix columns\n    this.fixColumns();\n\n    // Class names\n    if (!options.header) {\n      this.wrapper.classList.add(\"no-header\");\n    }\n\n    if (!options.footer) {\n      this.wrapper.classList.add(\"no-footer\");\n    }\n\n    if (options.sortable) {\n      this.wrapper.classList.add(\"sortable\");\n    }\n\n    if (options.searchable) {\n      this.wrapper.classList.add(\"searchable\");\n    }\n\n    if (options.fixedHeight) {\n      this.wrapper.classList.add(\"fixed-height\");\n    }\n\n    if (options.fixedColumns) {\n      this.wrapper.classList.add(\"fixed-columns\");\n    }\n\n    const input = this.wrapper.querySelector(\".jsDataTable-input\");\n    input.classList.add(...options.classes.input);\n\n    this.bindEvents();\n  }\n\n  getData() {\n    const options = this.options;\n    if (typeof options.data.data !== undefined) {\n      return options.data.data;\n    }\n    return [];\n  }\n\n  getOptions() {\n    const options = this.options;\n    return options;\n  }\n\n  /**\n   * Render the page\n   * @return {Void}\n   */\n  renderPage() {\n    if (this.hasHeadings) {\n      flush(this.header);\n\n      this.activeHeadings.forEach((th) => this.header.appendChild(th));\n    }\n\n    if (this.hasRows && this.totalPages) {\n      if (this.currentPage > this.totalPages) {\n        this.currentPage = 1;\n      }\n\n      // Use a fragment to limit touching the DOM\n      const index = this.currentPage - 1;\n\n      const frag = document.createDocumentFragment();\n      this.pages[index].forEach((row) =>\n        frag.appendChild(this.rows().render(row))\n      );\n\n      this.clear(frag);\n\n      this.onFirstPage = this.currentPage === 1;\n      this.onLastPage = this.currentPage === this.lastPage;\n    } else {\n      this.setMessage(this.options.labels.noRows);\n    }\n\n    // Update the info\n    let current = 0;\n\n    let f = 0;\n    let t = 0;\n    let items;\n\n    if (this.totalPages) {\n      current = this.currentPage - 1;\n      f = current * this.options.perPage;\n      t = f + this.pages[current].length;\n      f = f + 1;\n      items = this.searching ? this.searchData.length : this.data.length;\n    }\n\n    if (this.label && this.options.labels.info.length) {\n      // CUSTOM LABELS\n      const string = this.options.labels.info\n        .replace(\"{start}\", f)\n        .replace(\"{end}\", t)\n        .replace(\"{page}\", this.currentPage)\n        .replace(\"{pages}\", this.totalPages)\n        .replace(\"{rows}\", items);\n\n      this.label.innerHTML = items ? string : \"\";\n    }\n\n    if (this.currentPage == 1) {\n      this.fixHeight();\n    }\n\n    this.updateToggleEvents()\n  }\n\n  /**\n   * Render the pager(s)\n   * @return {Void}\n   */\n  renderPager() {\n    flush(this.pagers);\n\n    if (this.totalPages > 1) {\n      const c = \"pager\";\n      const frag = document.createDocumentFragment();\n      const prev = this.onFirstPage ? 1 : this.currentPage - 1;\n      const next = this.onLastPage ? this.totalPages : this.currentPage + 1;\n\n      // first button\n      if (this.options.firstLast) {\n        frag.appendChild(button(c, 1, this.options.firstText));\n      }\n\n      // prev button\n      if (this.options.nextPrev && !this.onFirstPage) {\n        frag.appendChild(button(c, prev, this.options.prevText));\n      }\n\n      let pager = this.links;\n\n      // truncate the links\n      if (this.options.truncatePager) {\n        pager = truncate(\n          this.links,\n          this.currentPage,\n          this.pages.length,\n          this.options.pagerDelta,\n          this.options.ellipsisText\n        );\n      }\n\n      // active page link\n      this.links[this.currentPage - 1].classList.add(\"active\");\n\n      // append the links\n      pager.forEach((p) => {\n        p.classList.remove(\"active\");\n        frag.appendChild(p);\n      });\n\n      this.links[this.currentPage - 1].classList.add(\"active\");\n\n      // next button\n      if (this.options.nextPrev && !this.onLastPage) {\n        frag.appendChild(button(c, next, this.options.nextText));\n      }\n\n      // first button\n      if (this.options.firstLast) {\n        frag.appendChild(button(c, this.totalPages, this.options.lastText));\n      }\n\n      // We may have more than one pager\n      this.pagers.forEach((pager) => {\n        pager.appendChild(frag.cloneNode(true));\n      });\n    }\n  }\n\n  /**\n   * Render the header\n   * @return {Void}\n   */\n  renderHeader() {\n    this.labels = [];\n\n    if (this.headings && this.headings.length) {\n      this.headings.forEach((th, i) => {\n        this.labels[i] = th.textContent;\n\n        if (\n          th.firstElementChild &&\n          th.firstElementChild.classList.contains(\"jsDataTable-sorter\")\n        ) {\n          th.innerHTML = th.firstElementChild.innerHTML;\n        }\n\n        th.sortable = th.getAttribute(\"data-sortable\") !== \"false\";\n\n        th.originalCellIndex = i;\n        if (this.options.sortable && th.sortable) {\n          const link = createElement(\"a\", {\n            href: \"#\",\n            class: \"jsDataTable-sorter\",\n            html: th.innerHTML,\n          });\n\n          th.innerHTML = \"\";\n          th.setAttribute(\"data-sortable\", \"\");\n          th.appendChild(link);\n        }\n      });\n    }\n\n    this.fixColumns();\n  }\n\n  /**\n   * Bind event listeners\n   * @return {[type]} [description]\n   */\n  bindEvents() {\n    const options = this.options;\n    // Per page selector\n    if (options.perPageSelect) {\n      const selector = this.wrapper.querySelector(\".jsDataTable-selector\");\n      if (selector) {\n        // Change per page\n        selector.addEventListener(\n          \"change\",\n          () => {\n            options.perPage = parseInt(selector.value, 10);\n            this.update();\n\n            this.fixHeight();\n\n            this.emit(\"datatable.perpage\", options.perPage);\n          },\n          false\n        );\n      }\n    }\n\n    // Search input\n    if (options.searchable) {\n      this.input = this.wrapper.querySelector(\".jsDataTable-input\");\n      if (this.input) {\n        this.input.addEventListener(\n          \"keyup\",\n          () => this.search(this.input.value),\n          false\n        );\n      }\n    }\n\n    // Pager(s) / sorting\n    this.wrapper.addEventListener(\n      \"click\",\n      (e) => {\n        const t = e.target.closest(\"a\");\n        if (t && t.nodeName.toLowerCase() === \"a\") {\n          if (t.hasAttribute(\"data-page\")) {\n            if (options.selectable) {\n              const checkboxes = document.getElementsByName(\n                \"jsDataTable_select\"\n              );\n              const selectAll = this.wrapper.querySelector(\n                \"#jsDataTable_select_all\"\n              );\n\n              for (let i = 0; i < checkboxes.length; i++) {\n                checkboxes[i].checked = false;\n              }\n              selectAll.checked = false;\n\n            }\n            this.page(t.getAttribute(\"data-page\"));\n            e.preventDefault();\n          } else if (\n            options.sortable &&\n            t.classList.contains(\"jsDataTable-sorter\") &&\n            t.parentNode.getAttribute(\"data-sortable\") != \"false\"\n          ) {\n            this.columns().sort(this.headings.indexOf(t.parentNode));\n            e.preventDefault();\n          }\n        }\n      },\n      false\n    );\n\n    //If selectable option is true add the checkboxes event listeners\n    if (options.selectable) {\n      // Select all\n      const selectAll = this.wrapper.querySelector(\"#jsDataTable_select_all\");\n      selectAll.addEventListener(\n        \"click\",\n        e => {\n          if (e.isTrusted) {\n            const checkboxes = document.getElementsByName(\"jsDataTable_select\");\n\n            for (let i = 0; i < checkboxes.length; i++) {\n              checkboxes[i].checked = selectAll.checked;\n            }\n\n            const details = {\n              selectedRows: this.dtCountChecked(),\n              totalRows: checkboxes.length\n            };\n\n            this.emit(\"datatable.select\", details);\n          }\n        },\n        false\n      );\n    }\n\n    window.addEventListener(\"resize\", this.listeners.onResize);\n  }\n\n  dtCountChecked() {\n    let checked = 0;\n    const checkboxes = document.getElementsByName(\"jsDataTable_select\");\n    for (let i = 0; i < checkboxes.length; i++) {\n      if (checkboxes[i].checked) {\n        checked++;\n      }\n    }\n    return checked;\n  }\n\n  /**\n   * execute on resize\n   */\n  onResize() {\n    this.rect = this.container.getBoundingClientRect();\n    if (!this.rect.width) {\n      // No longer shown, likely no longer part of DOM. Give up.\n      return;\n    }\n    this.fixColumns();\n  }\n\n  /**\n   * Set up columns\n   * @return {[type]} [description]\n   */\n  setColumns(ajax) {\n    if (!ajax) {\n      this.data.forEach((row) => {\n        Array.from(row.cells).forEach((cell) => {\n          cell.data = cell.innerHTML;\n        });\n      });\n    }\n\n    if (this.options.selectable && !this.initialized) {\n      if (\n        this.options.hasOwnProperty(\"columns\") &&\n        this.options.columns.length > 0\n      ) {\n        for (let i = 0; i < this.options.columns.length; i++) {\n          this.options.columns[i].select = this.options.columns[i].select + 1;\n        }\n      } else {\n        this.options.columns = [];\n      }\n\n      // Adds a new column index to control the selection toggle\n      this.options.columns.unshift({\n        select: 0,\n        sortable: false,\n      });\n    }\n\n    // Check for the columns option\n    if (this.options.columns && this.headings.length) {\n      this.options.columns.forEach((data) => {\n        // convert single column selection to array\n        if (!Array.isArray(data.select)) {\n          data.select = [data.select];\n        }\n\n        if (\n          data.hasOwnProperty(\"render\") &&\n          typeof data.render === \"function\"\n        ) {\n          this.selectedColumns = this.selectedColumns.concat(data.select);\n\n          this.columnRenderers.push({\n            columns: data.select,\n            renderer: data.render,\n          });\n        }\n\n        // Add the data attributes to the th elements\n        data.select.forEach((column) => {\n          const th = this.headings[column];\n          if (data.type) {\n            th.setAttribute(\"data-type\", data.type);\n          }\n          if (data.format) {\n            th.setAttribute(\"data-format\", data.format);\n          }\n          if (data.hasOwnProperty(\"sortable\")) {\n            th.setAttribute(\"data-sortable\", data.sortable);\n          }\n\n          if (data.hasOwnProperty(\"hidden\")) {\n            if (data.hidden !== false) {\n              this.columns().hide([column]);\n            }\n          }\n\n          if (data.hasOwnProperty(\"sort\") && data.select.length === 1) {\n            this.columns().sort(data.select[0], data.sort, true);\n          }\n        });\n      });\n    }\n\n    if (this.hasRows) {\n      this.data.forEach((row, i) => {\n        row.dataIndex = i;\n        Array.from(row.cells).forEach((cell) => {\n          cell.data = cell.innerHTML;\n        });\n      });\n\n      if (this.selectedColumns.length) {\n        this.data.forEach((row) => {\n          Array.from(row.cells).forEach((cell, i) => {\n            if (this.selectedColumns.includes(i)) {\n              this.columnRenderers.forEach((options) => {\n                if (options.columns.includes(i)) {\n                  cell.innerHTML = options.renderer.call(\n                    this,\n                    cell.data,\n                    cell,\n                    row\n                  );\n                }\n              });\n            }\n          });\n        });\n      }\n\n      this.columns().rebuild();\n    }\n\n    this.render(\"header\");\n  }\n\n  /**\n   * Destroy the instance\n   * @return {void}\n   */\n  destroy() {\n    this.dom.innerHTML = this.initialLayout;\n\n    if (this.options.selectable) {\n      this.options.columns.shift();\n      if (\n        this.options.hasOwnProperty(\"columns\") &&\n        this.options.columns.length > 0\n      ) {\n        for (let i = 0; i < this.options.columns.length; i++) {\n          this.options.columns[i].select = this.options.columns[i].select - 1;\n        }\n      } else {\n        this.options.columns = [];\n      }\n    }\n\n    // Remove the className\n    this.dom.classList.remove(\"jsDataTable-table\");\n\n    // Remove the containers\n    this.wrapper.parentNode.replaceChild(this.dom, this.wrapper);\n\n    this.initialized = false;\n\n    window.removeEventListener(\"resize\", this.listeners.onResize);\n  }\n\n  /**\n   * Update the instance\n   * @return {Void}\n   */\n  update() {\n    this.wrapper.classList.remove(\"jsDataTable-empty\");\n\n    this.paginate(this);\n    this.render(\"page\");\n\n    this.links = [];\n\n    let i = this.pages.length;\n    while (i--) {\n      const num = i + 1;\n      this.links[i] = button(i === 0 ? \"active\" : \"\", num, num);\n    }\n\n    this.sorting = false;\n\n    this.render(\"pager\");\n\n    this.rows().update();\n\n    this.updateToggleEvents();\n  }\n\n  updateToggleEvents() {\n     if (this.options.selectable) {\n       const selects = document.querySelectorAll(\".jsDataTable_select\");\n       const selectAll = this.wrapper.querySelector(\"#jsDataTable_select_all\");\n\n       selectAll.checked = false;\n       selectAll.indeterminate = false;\n\n       if (selects.length > 0) {\n         for (let i = 0; i < selects.length; i++) {\n           selects[i].checked = false;\n           selects[i].onclick = e => {\n             if (e.isTrusted) {\n               this.dtToggleIndividual();\n             }\n           };\n         }\n       }\n     }\n    this.emit(\"datatable.update\");\n  }\n\n  dtToggleIndividual() {\n    const selects = this.wrapper.querySelectorAll(\".jsDataTable_select\");\n    const details = {\n      selectedRows: this.dtCountChecked(),\n      totalRows: selects.length\n    };\n\n    const selectAll = this.wrapper.querySelector(\"#jsDataTable_select_all\");\n    if (details.selectedRows == details.totalRows) {\n      selectAll.checked = true;\n      selectAll.indeterminate = false;\n    } else if (details.selectedRows > 0) {\n      selectAll.checked = false;\n      selectAll.indeterminate = true;\n    } else {\n      selectAll.checked = false;\n      selectAll.indeterminate = false;\n    }\n\n    this.emit(\"datatable.select\", details);\n  }\n\n  /**\n   * Sort rows into pages\n   * @return {Number}\n   */\n  paginate() {\n    const perPage = this.options.perPage;\n    let rows = this.activeRows;\n\n    if (this.searching) {\n      rows = [];\n\n      this.searchData.forEach((index) => rows.push(this.activeRows[index]));\n    }\n\n    if (this.options.paging) {\n      // Check for hidden columns\n      this.pages = rows\n        .map((tr, i) => (i % perPage === 0 ? rows.slice(i, i + perPage) : null))\n        .filter((page) => page);\n    } else {\n      this.pages = [rows];\n    }\n\n    this.totalPages = this.lastPage = this.pages.length;\n\n    return this.totalPages;\n  }\n\n  /**\n   * Fix column widths\n   * @return {Void}\n   */\n  fixColumns() {\n    if (\n      (this.options.scrollY.length || this.options.fixedColumns) &&\n      this.activeHeadings &&\n      this.activeHeadings.length\n    ) {\n      let cells;\n      let hd = false;\n      this.columnWidths = [];\n\n      // If we have headings we need only set the widths on them\n      // otherwise we need a temp header and the widths need applying to all cells\n      if (this.dom.tHead) {\n        if (this.options.scrollY.length) {\n          hd = createElement(\"thead\");\n          hd.appendChild(createElement(\"tr\"));\n          hd.style.height = \"0px\";\n          if (this.headerTable) {\n            // move real header back into place\n            this.dom.tHead = this.headerTable.tHead;\n          }\n        }\n\n        // Reset widths\n        this.activeHeadings.forEach((cell) => {\n          cell.style.width = \"\";\n        });\n\n        this.activeHeadings.forEach((cell, i) => {\n          const ow = cell.offsetWidth;\n          const w = (ow / this.rect.width) * 100;\n          cell.style.width = `${w}%`;\n          this.columnWidths[i] = ow;\n          if (this.options.scrollY.length) {\n            const th = createElement(\"th\");\n            hd.firstElementChild.appendChild(th);\n            th.style.width = `${w}%`;\n            th.style.paddingTop = \"0\";\n            th.style.paddingBottom = \"0\";\n            th.style.border = \"0\";\n          }\n        });\n\n        if (this.options.scrollY.length) {\n          const container = this.dom.parentElement;\n          if (!this.headerTable) {\n            this.headerTable = createElement(\"table\", {\n              class: \"jsDataTable-table\",\n            });\n            const headercontainer = createElement(\"div\", {\n              class: \"jsDataTable-headercontainer\",\n            });\n            headercontainer.appendChild(this.headerTable);\n            container.parentElement.insertBefore(headercontainer, container);\n          }\n          const thd = this.dom.tHead;\n          this.dom.replaceChild(hd, thd);\n          this.headerTable.tHead = thd;\n\n          // Compensate for scrollbars.\n          this.headerTable.parentElement.style.paddingRight = `${\n            this.headerTable.clientWidth -\n            this.dom.clientWidth +\n            parseInt(\n              this.headerTable.parentElement.style.paddingRight || \"0\",\n              10\n            )\n          }px`;\n\n          if (container.scrollHeight > container.clientHeight) {\n            // scrollbars on one page means scrollbars on all pages.\n            container.style.overflowY = \"scroll\";\n          }\n        }\n      } else {\n        cells = [];\n\n        // Make temperary headings\n        hd = createElement(\"thead\");\n        const r = createElement(\"tr\");\n        Array.from(this.dom.tBodies[0].rows[0].cells).forEach(() => {\n          const th = createElement(\"th\");\n          r.appendChild(th);\n          cells.push(th);\n        });\n\n        hd.appendChild(r);\n        this.dom.insertBefore(hd, this.body);\n\n        const widths = [];\n        cells.forEach((cell, i) => {\n          const ow = cell.offsetWidth;\n          const w = (ow / this.rect.width) * 100;\n          widths.push(w);\n          this.columnWidths[i] = ow;\n        });\n\n        this.data.forEach((row) => {\n          Array.from(row.cells).forEach((cell, i) => {\n            if (this.columns(cell.cellIndex).visible())\n              cell.style.width = `${widths[i]}%`;\n          });\n        });\n\n        // Discard the temp header\n        this.dom.removeChild(hd);\n      }\n    }\n  }\n\n  /**\n   * Fix the container height\n   * @return {Void}\n   */\n  fixHeight() {\n    if (this.options.fixedHeight) {\n      this.container.style.height = null;\n      this.rect = this.container.getBoundingClientRect();\n      this.container.style.height = `${this.rect.height}px`;\n    }\n  }\n\n  // Remove diacritics for better searching\n  removeDiacritics(str) {\n    return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n  }\n\n  /**\n   * Perform a search of the data set\n   * @param  {string} query\n   * @return {void}\n   */\n  search(query) {\n    if (!this.hasRows) return false;\n\n    query = query.toLowerCase();\n\n    this.currentPage = 1;\n    this.searching = true;\n    this.searchData = [];\n\n    if (!query.length) {\n      this.searching = false;\n      this.update();\n      this.emit(\"datatable.search\", query, this.searchData);\n      this.wrapper.classList.remove(\"search-results\");\n      return false;\n    }\n\n    this.clear();\n\n    this.data.forEach((row, idx) => {\n      const inArray = this.searchData.includes(row);\n\n      // https://github.com/Mobius1/Vanilla-DataTables/issues/12\n      const doesQueryMatch = query.split(\" \").reduce((bool, word) => {\n        let includes = false;\n        let cell = null;\n        let content = null;\n\n        for (let x = 0; x < row.cells.length; x++) {\n          cell = row.cells[x];\n          content = cell.hasAttribute(\"data-content\")\n            ? cell.getAttribute(\"data-content\")\n            : cell.textContent;\n\n          const contentPrepared = this.removeDiacritics(content.toLowerCase());\n          const wordPrepared = this.removeDiacritics(word);\n\n          if (\n            contentPrepared.includes(wordPrepared) &&\n            this.columns(cell.cellIndex).visible()\n          ) {\n            includes = true;\n            break;\n          }\n        }\n\n        return bool && includes;\n      }, true);\n\n      if (doesQueryMatch && !inArray) {\n        row.searchIndex = idx;\n        this.searchData.push(idx);\n      } else {\n        row.searchIndex = null;\n      }\n    });\n\n    this.wrapper.classList.add(\"search-results\");\n\n    if (!this.searchData.length) {\n      this.wrapper.classList.remove(\"search-results\");\n\n      this.setMessage(this.options.labels.noResults);\n    } else {\n      this.update();\n    }\n\n    this.emit(\"datatable.search\", query, this.searchData);\n  }\n\n  /**\n   * Change page\n   * @param  {int} page\n   * @return {void}\n   */\n  page(page) {\n    // We don't want to load the current page again.\n    if (page == this.currentPage) {\n      return false;\n    }\n\n    if (!isNaN(page)) {\n      this.currentPage = parseInt(page, 10);\n    }\n\n    if (page > this.pages.length || page < 0) {\n      return false;\n    }\n\n    this.render(\"page\");\n    this.render(\"pager\");\n\n    this.emit(\"datatable.page\", page);\n  }\n\n  /**\n   * Sort by column\n   * @param  {int} column - The column no.\n   * @param  {string} direction - asc or desc\n   * @return {void}\n   */\n  sortColumn(column, direction) {\n    // Use columns API until sortColumn method is removed\n    this.columns().sort(column, direction);\n  }\n\n  makeCheckbox(all = false) {\n    let name = \"jsDataTable_select\";\n    if (all) {\n      name = `${name}_all`;\n    }\n    const sel = document.createElement(\"input\");\n    sel.type = \"checkbox\";\n    sel.name = name;\n    if (all) {\n      sel.id = name;\n    }\n    sel.autocomplete = false;\n    sel.classList.add(name);\n    sel.classList.add(...this.options.classes.checkbox);\n    sel.autocomplete = false;\n    return sel;\n  }\n\n  makeSelect(row) {\n    const sel = this.makeCheckbox();\n    row.unshift(sel.outerHTML);\n\n    return row;\n  }\n\n  /** Build Select Toggler on Header */\n  makeSelectAll(head) {\n    // Creates the selection toggler and puts it in the the header first cell\n    const selectAll = this.makeCheckbox(true);\n    head.unshift(selectAll.outerHTML);\n\n    return head;\n  }\n\n  /**\n   * Add new row data\n   * @param {object} data\n   */\n  insert(data) {\n    let rows = [];\n    if (isObject(data)) {\n      if (data.headings) {\n        if (!this.hasHeadings && !this.hasRows) {\n          const tr = createElement(\"tr\");\n          data.headings.forEach((heading) => {\n            const th = createElement(\"th\", {\n              html: heading,\n            });\n\n            tr.appendChild(th);\n          });\n          this.head.appendChild(tr);\n\n          this.header = tr;\n          this.headings = [].slice.call(tr.cells);\n          this.hasHeadings = true;\n\n          // Re-enable sorting if it was disabled due\n          // to missing header\n          this.options.sortable = this.initialSortable;\n\n          // Allow sorting on new header\n          this.render(\"header\");\n\n          // Activate newly added headings\n          this.activeHeadings = this.headings.slice();\n        }\n      }\n\n      if (data.data && Array.isArray(data.data)) {\n        data.data = this.preparedData(data.data);\n        for (let i = 0; i < data.data.length; i++) {\n          data.data[i] = this.makeSelect(data.data[i]);\n        }\n\n        rows = data.data;\n      }\n    } else if (Array.isArray(data)) {\n      data.forEach((row) => {\n        const r = [];\n        Object.entries(row).forEach(([heading, cell]) => {\n          const index = this.labels.indexOf(heading);\n\n          if (index > -1) {\n            r[index] = cell;\n          }\n        });\n        rows.push(r);\n      });\n    }\n    if (rows.length) {\n      this.rows().add(rows);\n\n      this.hasRows = true;\n    }\n\n    this.update();\n    this.setColumns();\n    this.fixColumns();\n  }\n\n  preparedData(data) {\n    const preparedData = [];\n    for (let i = 0; i < data.length; i++) {\n      let aux = [];\n      if (typeof data[i] === \"object\" && data[i] !== null) {\n        aux = Object.values(data[i]);\n        for (let j = 0; j < aux.length; j++) {\n          if (typeof aux[j] !== \"string\") {\n            aux[j] = `${aux[j]}`;\n          }\n        }\n      } else if (Array.isArray(data[i])) {\n        for (let j = 0; j < data[i].length; j++) {\n          if (typeof data[i][j] !== \"string\") {\n            data[i][j] = `${data[i][j]}`;\n          }\n        }\n        aux = data[i];\n      }\n      if (aux.length > 0) {\n        preparedData.push(aux);\n      }\n    }\n    return preparedData;\n  }\n\n  /**\n   * Refresh the instance\n   * @return {void}\n   */\n  refresh() {\n    if (this.options.searchable) {\n      this.input.value = \"\";\n      this.searching = false;\n    }\n    this.currentPage = 1;\n    this.onFirstPage = true;\n    this.update();\n\n    this.emit(\"datatable.refresh\");\n  }\n\n  /**\n   * Truncate the table\n   * @param  {mixes} html - HTML string or HTMLElement\n   * @return {void}\n   */\n  clear(html) {\n    if (this.body) {\n      flush(this.body);\n    }\n\n    let parent = this.body;\n    if (!this.body) {\n      parent = this.dom;\n    }\n\n    if (html) {\n      if (typeof html === \"string\") {\n        const frag = document.createDocumentFragment();\n        frag.innerHTML = html;\n      }\n\n      parent.appendChild(html);\n    }\n  }\n\n  /**\n   * Export table to various formats (csv, txt or sql)\n   * @param  {Object} userOptions User options\n   * @return {Boolean}\n   */\n  export(userOptions) {\n    if (!this.hasHeadings && !this.hasRows) return false;\n\n    const headers = this.activeHeadings;\n    let rows = [];\n    const arr = [];\n    let i;\n    let x;\n    let str;\n    let link;\n\n    const defaults = {\n      download: true,\n      skipColumn: [],\n\n      // csv\n      lineDelimiter: \"\\n\",\n      columnDelimiter: \",\",\n\n      // sql\n      tableName: \"myTable\",\n\n      // json\n      replacer: null,\n      space: 4,\n    };\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n      return false;\n    }\n\n    const options = {\n      ...defaults,\n      ...userOptions,\n    };\n\n    if (options.type) {\n      if (options.type === \"txt\" || options.type === \"csv\") {\n        // Include headings\n        rows[0] = this.header;\n      }\n\n      // Selection or whole table\n      if (options.selection) {\n        // Page number\n        if (!isNaN(options.selection)) {\n          rows = rows.concat(this.pages[options.selection - 1]);\n        } else if (Array.isArray(options.selection)) {\n          // Array of page numbers\n          for (i = 0; i < options.selection.length; i++) {\n            rows = rows.concat(this.pages[options.selection[i] - 1]);\n          }\n        }\n      } else {\n        rows = rows.concat(this.activeRows);\n      }\n\n      // Only proceed if we have data\n      if (rows.length) {\n        if (options.type === \"txt\" || options.type === \"csv\") {\n          str = \"\";\n\n          for (i = 0; i < rows.length; i++) {\n            for (x = 0; x < rows[i].cells.length; x++) {\n              // Check for column skip and visibility\n              if (\n                !options.skipColumn.includes(headers[x].originalCellIndex) &&\n                this.columns(headers[x].originalCellIndex).visible()\n              ) {\n                let text = rows[i].cells[x].textContent;\n                text = text.trim();\n                text = text.replace(/\\s{2,}/g, \" \");\n                text = text.replace(/\\n/g, \"  \");\n                text = text.replace(/\"/g, '\"\"');\n                //have to manually encode \"#\" as encodeURI leaves it as is.\n                text = text.replace(/#/g, \"%23\");\n                if (text.includes(\",\")) text = `\"${text}\"`;\n\n                str += text + options.columnDelimiter;\n              }\n            }\n            // Remove trailing column delimiter\n            str = str.trim().substring(0, str.length - 1);\n\n            // Apply line delimiter\n            str += options.lineDelimiter;\n          }\n\n          // Remove trailing line delimiter\n          str = str.trim().substring(0, str.length - 1);\n\n          if (options.download) {\n            str = `data:text/csv;charset=utf-8,${str}`;\n          }\n        } else if (options.type === \"sql\") {\n          // Begin INSERT statement\n          str = `INSERT INTO \\`${options.tableName}\\` (`;\n\n          // Convert table headings to column names\n          for (i = 0; i < headers.length; i++) {\n            // Check for column skip and column visibility\n            if (\n              !options.skipColumn.includes(headers[i].originalCellIndex) &&\n              this.columns(headers[i].originalCellIndex).visible()\n            ) {\n              str += `\\`${headers[i].textContent}\\`,`;\n            }\n          }\n\n          // Remove trailing comma\n          str = str.trim().substring(0, str.length - 1);\n\n          // Begin VALUES\n          str += \") VALUES \";\n\n          // Iterate rows and convert cell data to column values\n          for (i = 0; i < rows.length; i++) {\n            str += \"(\";\n\n            for (x = 0; x < rows[i].cells.length; x++) {\n              // Check for column skip and column visibility\n              if (\n                !options.skipColumn.includes(headers[x].originalCellIndex) &&\n                this.columns(headers[x].originalCellIndex).visible()\n              ) {\n                str += `\"${rows[i].cells[x].textContent}\",`;\n              }\n            }\n\n            // Remove trailing comma\n            str = str.trim().substring(0, str.length - 1);\n\n            // end VALUES\n            str += \"),\";\n          }\n\n          // Remove trailing comma\n          str = str.trim().substring(0, str.length - 1);\n\n          // Add trailing colon\n          str += \";\";\n\n          if (options.download) {\n            str = `data:application/sql;charset=utf-8,${str}`;\n          }\n        } else if (options.type === \"json\") {\n          // Iterate rows\n          for (x = 0; x < rows.length; x++) {\n            arr[x] = arr[x] || {};\n            // Iterate columns\n            for (i = 0; i < headers.length; i++) {\n              // Check for column skip and column visibility\n              if (\n                !options.skipColumn.includes(headers[i].originalCellIndex) &&\n                this.columns(headers[i].originalCellIndex).visible()\n              ) {\n                arr[x][headers[i].textContent] = rows[x].cells[i].textContent;\n              }\n            }\n          }\n\n          // Convert the array of objects to JSON string\n          str = JSON.stringify(arr, options.replacer, options.space);\n\n          if (options.download) {\n            str = `data:application/json;charset=utf-8,${str}`;\n          }\n        }\n\n        // Download\n        if (options.download) {\n          // Filename\n          options.filename = options.filename || \"datatable_export\";\n          options.filename += `.${options.type}`;\n\n          str = encodeURI(str);\n\n          // Create a link to trigger the download\n          link = document.createElement(\"a\");\n          link.href = str;\n          link.download = options.filename;\n\n          // Append the link\n          document.body.appendChild(link);\n\n          // Trigger the download\n          link.click();\n\n          // Remove the link\n          document.body.removeChild(link);\n        }\n\n        return str;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Import data to the table\n   * @param  {Object} userOptions User options\n   * @return {Boolean}\n   */\n  import(userOptions) {\n    let obj = false;\n    const defaults = {\n      // csv\n      lineDelimiter: \"\\n\",\n      columnDelimiter: \",\",\n    };\n\n    // Check for the options object\n    if (!isObject(userOptions)) {\n      return false;\n    }\n\n    const options = {\n      ...defaults,\n      ...userOptions,\n    };\n\n    if (options.data.length || isObject(options.data)) {\n      // Import CSV\n      if (options.type === \"csv\") {\n        obj = {\n          data: [],\n        };\n\n        // Split the string into rows\n        const rows = options.data.split(options.lineDelimiter);\n\n        if (rows.length) {\n          if (options.headings) {\n            obj.headings = rows[0].split(options.columnDelimiter);\n\n            rows.shift();\n          }\n\n          rows.forEach((row, i) => {\n            obj.data[i] = [];\n\n            // Split the rows into values\n            const values = row.split(options.columnDelimiter);\n\n            if (values.length) {\n              values.forEach((value) => {\n                obj.data[i].push(value);\n              });\n            }\n          });\n        }\n      } else if (options.type === \"json\") {\n        const json = isJson(options.data);\n\n        // Valid JSON string\n        if (json) {\n          obj = {\n            headings: [],\n            data: [],\n          };\n\n          json.forEach((data, i) => {\n            obj.data[i] = [];\n            Object.entries(data).forEach(([column, value]) => {\n              if (!obj.headings.includes(column)) {\n                obj.headings.push(column);\n              }\n\n              obj.data[i].push(value);\n            });\n          });\n        } else {\n          // console.warn(\"That's not valid JSON!\")\n        }\n      }\n\n      if (isObject(options.data)) {\n        obj = options.data;\n      }\n\n      if (obj) {\n        // Add the rows\n        this.insert(obj);\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Print the table\n   * @return {void}\n   */\n  print() {\n    const headings = this.activeHeadings;\n    const rows = this.activeRows;\n    const table = createElement(\"table\");\n    const thead = createElement(\"thead\");\n    const tbody = createElement(\"tbody\");\n\n    const tr = createElement(\"tr\");\n    headings.forEach((th) => {\n      tr.appendChild(\n        createElement(\"th\", {\n          html: th.textContent,\n        })\n      );\n    });\n\n    thead.appendChild(tr);\n\n    rows.forEach((row) => {\n      const tr = createElement(\"tr\");\n      Array.from(row.cells).forEach((cell) => {\n        tr.appendChild(\n          createElement(\"td\", {\n            html: cell.textContent,\n          })\n        );\n      });\n      tbody.appendChild(tr);\n    });\n\n    table.appendChild(thead);\n    table.appendChild(tbody);\n\n    // Open new window\n    const w = window.open();\n\n    // Append the table to the body\n    w.document.body.appendChild(table);\n\n    // Print\n    w.print();\n  }\n\n  /**\n   * Show a message in the table\n   * @param {string} message\n   */\n  setMessage(message) {\n    let colspan = 1;\n\n    if (this.hasRows) {\n      colspan = this.data[0].cells.length;\n    } else if (this.activeHeadings.length) {\n      colspan = this.activeHeadings.length;\n    }\n\n    this.wrapper.classList.add(\"jsDataTable-empty\");\n\n    if (this.label) {\n      this.label.innerHTML = \"\";\n    }\n    this.totalPages = 0;\n    this.render(\"pager\");\n\n    this.clear(\n      createElement(\"tr\", {\n        html: `<td class=\"jsDataTables-empty\" colspan=\"${colspan}\">${message}</td>`,\n      })\n    );\n  }\n\n  /**\n   * Columns API access\n   * @return {Object} new Columns instance\n   */\n  columns(columns) {\n    return new Columns(this, columns);\n  }\n\n  /**\n   * Rows API access\n   * @return {Object} new Rows instance\n   */\n  rows(rows) {\n    return new Rows(this, rows);\n  }\n\n  /**\n   * Add custom event listener\n   * @param  {String} event\n   * @param  {Function} callback\n   * @return {Void}\n   */\n  on(event, callback) {\n    this.events = this.events || {};\n    this.events[event] = this.events[event] || [];\n    this.events[event].push(callback);\n  }\n\n  /**\n   * Remove custom event listener\n   * @param  {String} event\n   * @param  {Function} callback\n   * @return {Void}\n   */\n  off(event, callback) {\n    this.events = this.events || {};\n    if (event in this.events === false) return;\n    this.events[event].splice(this.events[event].indexOf(callback), 1);\n  }\n\n  /**\n   * Fire custom event\n   * @param  {String} event\n   * @return {Void}\n   */\n  emit(event) {\n    this.events = this.events || {};\n    if (event in this.events === false) return;\n    for (let i = 0; i < this.events[event].length; i++) {\n      this.events[event][i].apply(\n        this,\n        Array.prototype.slice.call(arguments, 1)\n      );\n    }\n  }\n}\n"],"names":["strings","en","placeholder","perPage","noRows","noResults","info","pt","es","de","it","ru","isObject","val","Object","prototype","toString","call","createElement","nodeName","attrs","dom","document","attr","innerHTML","setAttribute","flush","el","NodeList","forEach","e","button","className","page","text","class","html","sortItems","a","b","inputArr","lang","documentElement","len","length","i","j","value","localeCompare","numeric","tmp","bubbleSort","reverse","getStrings","substring","toLowerCase","Rows","constructor","dt","rows","this","build","row","tr","headings","map","h","td","data","appendChild","render","add","Array","isArray","push","hasRows","update","columns","rebuild","remove","select","sort","splice","dataIndex","findRowIndex","columnIndex","findIndex","children","innerText","includes","String","findRow","index","cols","cells","r","updateRow","Columns","swap","x","y","order","c","d","s","cell","temp","column","getAttribute","cloneNode","originalCellIndex","sortable","hiddenColumns","searchIndex","undefined","activeHeadings","activeRows","hide","show","indexOf","visible","th","isNaN","insert","heading","hiddenHeader","type","format","hasOwnProperty","renderHeader","removeChild","filter","dir","init","terms","filterState","originalData","filters","rowFilter","filteredRows","from","content","hasAttribute","clear","setMessage","options","labels","emit","hasHeadings","filterTerms","textContent","sorting","alpha","n","waitFor","Promise","resolve","then","require","parseDate","date","all","importedFunctions","parseFunction","top","btm","num","replace","parseFloat","Number","classList","contains","lastTh","concat","indexes","v","searchData","cellIndex","dataToTable","thead","tbody","classes","table","col","idx","selectable","Error","tHead","tBodies","defaultConfig","searchable","paging","perPageSelect","nextPrev","firstLast","prevText","nextText","firstText","lastText","ellipsisText","ascText","descText","truncatePager","pagerDelta","scrollY","fixedColumns","fixedHeight","header","footer","layout","bottom","input","selector","checkbox","JSDataTable","querySelector","key","entries","initialized","initialLayout","initialSortable","listeners","onResize","event","static","prop","getSelected","checked","checkboxes","getElementsByName","getSelectedRows","closest","assign","currentPage","onFirstPage","columnRenderers","selectedColumns","setTimeout","plugins","plugin","enabled","renderPage","renderPager","renderData","template","makeSelectAll","makeSelect","makeCheckbox","item","insertBefore","firstChild","querySelectorAll","insertCell","body","head","foot","tFoot","t","slice","wrapper","wrap","selected","option","Option","outerHTML","form","paginatorWrapper","paginator","container","pagers","label","parentNode","replaceChild","rect","getBoundingClientRect","setColumns","fixHeight","fixColumns","bindEvents","getData","getOptions","totalPages","frag","createDocumentFragment","pages","onLastPage","lastPage","items","current","f","searching","string","updateToggleEvents","prev","next","pager","links","ellipsis","g","k","l","truncate","p","firstElementChild","link","href","addEventListener","parseInt","search","target","selectAll","preventDefault","isTrusted","details","selectedRows","dtCountChecked","totalRows","window","width","ajax","unshift","renderer","hidden","destroy","shift","removeEventListener","paginate","selects","indeterminate","onclick","dtToggleIndividual","hd","columnWidths","style","height","headerTable","ow","offsetWidth","w","paddingTop","paddingBottom","border","parentElement","headercontainer","thd","paddingRight","clientWidth","scrollHeight","clientHeight","overflowY","widths","removeDiacritics","str","normalize","query","inArray","split","reduce","bool","word","contentPrepared","wordPrepared","sortColumn","direction","name","sel","id","autocomplete","preparedData","aux","values","refresh","parent","export","userOptions","headers","arr","download","skipColumn","lineDelimiter","columnDelimiter","tableName","replacer","space","selection","trim","JSON","stringify","filename","encodeURI","click","import","obj","json","parse","isJson","print","open","message","colspan","on","callback","events","off","apply","arguments"],"mappings":"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"}